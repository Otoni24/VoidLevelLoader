# VoidLevelLoader

A lightweight C++ library for parsing level files generated by the `VoidLevelEditor`.

This library is designed to be used in conjunction with `VoidLevelEditor` (**[https://github.com/Otoni24/VoidLevelEditor](https://github.com/Otoni24/VoidLevelEditor)**). It translates the level's JSON data into simple, SFML-ready data structures for seamless integration into your game project.

-----

## How to Use

This library can easily be included in another CMake project using `FetchContent`. Its sole responsibility is to parse the level file; it is up to the game developer to instantiate their own game objects from the provided data.

**1. Add this to your `CMakeLists.txt`:**

```cmake
include(FetchContent)

FetchContent_Declare(
    VoidLevelLoader
    GIT_REPOSITORY https://github.com/Otoni24/VoidLevelLoader.git
    GIT_TAG        "master" or a specific tag such as "v1.0.0"
)

FetchContent_MakeAvailable(VoidLevelLoader)

# ... in your executable target ...
target_link_libraries(MyGame PRIVATE VoidLevelLoader)
```

**2. C++ Code Example:**

This example demonstrates how to parse a level file and use the resulting data to create your own game-specific objects.

```cpp
#include <iostream>
#include <VoidLevelLoader/LevelLoader.h>

// Your game's specific classes
#include "Player.h"
#include "Platform.h"

int main()
{
    // 1. Parse the level file to get the raw data
    auto levelDataOpt = vll::load(path/exported_level.json);

    if (!levelDataOpt)
    {
        std::cerr << "Failed to load level." << std::endl;
        return -1;
    }

    // A container for your game's actual objects
    std::vector<std::unique_ptr<MyGameObjectBase>> gameWorld;

    // 2. Iterate through the parsed data to instantiate game objects
    for (const auto& goData : levelDataOpt->gameObjectsData)
    {
        if (goData.objectID == "Player")
        {
            gameWorld.push_back(std::make_unique<Player>(goData));
        }
        else if (goData.objectID == "Platform")
        {
            gameWorld.push_back(std::make_unique<Platform>(goData));
        }
    }
    
    // You now have a 'gameWorld' populated with your game's objects,

    // and 'levelDataOpt->hitboxChains' to build your physics bodies.
    
    return 0;
}
```

-----

## Dependencies

  * [nlohmann/json](https://github.com/nlohmann/json) as an internal dependency for parsing the JSON level file format.

-----

## License

This project is licensed under the MIT License. See the `LICENSE` file for more details.
